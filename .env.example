# ============================================================================
# x402 Insurance API Configuration
# ============================================================================
# SECURITY WARNING: Never commit the actual .env file to git!
# This is a template. Copy to .env and fill in your actual values.
#
# For production:
#   1. Set ENV=production
#   2. Use environment variables instead of .env file when possible
#   3. Never use DEBUG=true in production
#   4. Restrict CORS_ORIGINS to your domain
# ============================================================================

# App
APP_NAME="x402 Insurance API"
ENV=development
DEBUG=true
LOG_LEVEL=INFO
PORT=8000
HOST=0.0.0.0

# Database (optional - uses JSON files if not set)
# DATABASE_URL=postgresql://user:password@localhost:5432/x402insurance

# Blockchain (use testnet for development)
BASE_RPC_URL=https://sepolia.base.org
USDC_CONTRACT_ADDRESS=0x036CbD53842c5426634e7929541eC2318f3dCF7e
BACKEND_WALLET_PRIVATE_KEY=your_private_key_here
BACKEND_WALLET_ADDRESS=0xYourWalletAddressHere

# Blockchain limits
MAX_GAS_PRICE_GWEI=100
MAX_RETRIES=3

# zkEngine
ZKENGINE_BINARY_PATH=./zkengine/zkengine-binary

# Insurance (percentage-based)
PREMIUM_PERCENTAGE=0.01
MAX_COVERAGE_USDC=0.1
POLICY_DURATION_HOURS=24

# Rate limiting
RATE_LIMIT_ENABLED=true
# RATE_LIMIT_STORAGE_URL=redis://localhost:6379  # Optional Redis for distributed rate limiting

# Payment verification ("simple" for testing, "full" for production)
PAYMENT_VERIFICATION_MODE=simple
PAYMENT_MAX_AGE_SECONDS=300

# Reserve monitoring
MIN_RESERVE_RATIO=1.5

# Security
CORS_ORIGINS=*  # PRODUCTION: Set to your domain, e.g., https://yourdomain.com

# Claim endpoint authentication (new security feature)
# Require x402 payment proof for claim submission
REQUIRE_CLAIM_AUTHENTICATION=false  # PRODUCTION: Set to true

# Rate Limits (requests per time period)
RATE_LIMIT_DEFAULT=200 per day
RATE_LIMIT_INSURE=50 per hour
RATE_LIMIT_CLAIM=10 per hour
RATE_LIMIT_RENEW=5 per hour

# Timeouts (in seconds)
ZKENGINE_TIMEOUT=60
BLOCKCHAIN_CONFIRMATION_TIMEOUT=120

# Chain configuration
CHAIN_ID=84532  # Base Sepolia testnet (8453 for Base Mainnet)

# Monitoring & Error Tracking (optional but recommended for production)
# Get free Sentry account at https://sentry.io
SENTRY_DSN=  # Leave empty to disable
SENTRY_ENVIRONMENT=development  # development, staging, or production
SENTRY_TRACES_SAMPLE_RATE=0.1  # 0.0 to 1.0 (percentage of transactions to trace)
SENTRY_RELEASE=x402-insurance@dev  # Version tag for release tracking
